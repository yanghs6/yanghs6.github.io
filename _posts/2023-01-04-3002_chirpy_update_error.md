---
date: 2023-01-04 20:38:00 +/-0900
title: "[Gibhub Action] Chirpy ì—…ë°ì´íŠ¸ ë° ì˜¤ë¥˜ í•´ê²°"
categories: [Develop, distribute]
tags: [ê°œë°œ(develop), ë¸”ë¡œê·¸(blog), ë°°í¬(distribute), ê¹ƒí—™ì•¡ì…˜(github_action), ê¹ƒí—™í˜ì´ì§€(github_page)]

---
## ê°œìš”
í˜„ì¬ ë¸”ë¡œê·¸ì˜ í…Œë§ˆì¸ Chirpyì˜ ë²„ì „ì„ v5.0.2ì—ì„œ v5.4.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •ê³¼ ì˜¤ë¥˜ì— ëŒ€í•œ ê¸€ì…ë‹ˆë‹¤.

github actionê³¼ github pageì— ëŒ€í•´ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

---
## ë°œë‹¨: í…Œë§ˆ ì—…ë°ì´íŠ¸ë¥¼ í•´ë³´ì!

> 'Chirpy ë²„ì „ì„ ì—…ë°ì´íŠ¸í•´ë´ì•¼ê² ë‹¤'

ëŠ˜ ê·¸ë ‡ë“¯ ì‹œì‘ì„ ê°„ë‹¨í–ˆìŠµë‹ˆë‹¤.

ì—…ë°ì´íŠ¸ì˜ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.

1. ê¸°ì¡´ í˜ì´ì§€ì˜ ì—¬ëŸ¬ ì˜¤ë¥˜
    - ê¸°ì¡´ í˜ì´ì§€ì˜ ê²½ìš°, search.jsonì´ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ì™€ í•¨ê»˜ ê²€ìƒ‰ì´ ì˜¬ë°”ë¥´ê²Œ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
    - mathjaxì˜ ì§€ì› ì‚¬ì‹¤ì„ ìµœê·¼ì—ì„œì•¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ì „ì—ëŠ” _layout/ì™€ _include/ë¥¼ í†µí•´ is_mathê°€ ì„¤ì •ë˜ì–´ ìˆì„ ë•Œ, í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë„ë¡ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

2. í˜ì´ì§€ì˜ ìƒì„± ì‹œê°„ ì €í•˜ì™€ ìƒì‚°ì„± ê°ì†Œ
    - 1ë²ˆ í•­ëª©ê³¼ ì—°ê²°ë˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ìƒì„± ì‹œê°„ì´ ì§€ë‚˜ì¹˜ê²Œ ëŠë ¤ì¡ŒìŠµë‹ˆë‹¤.
    - ê²°ê³¼ì ìœ¼ë¡œ ë¸”ë¡œê·¸ì˜ ê¸€ì„ ì‘ì„±í•  ë•Œë§ˆë‹¤ ì¡°ê¸ˆì”© ìƒì‚°ì„±ì´ ê°ì†Œí•˜ê²Œ ë©ë‹ˆë‹¤.

---
## ì „ê°œ: Jekyll ë¸”ë¡œê·¸ì˜ ì¥ì  = _postë§Œ ì˜®ê¸°ë©´ ê¸€ì´ ìœ ì§€ëœë‹¤!

Jekyllì€ ëª¨ë“  ê¸€ì´ _post/ì— ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ ë¸”ë¡œê·¸ì˜ í…Œë§ˆë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ë§ˆí¬ë‹¤ìš´ì„ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ í”Œë«í¼ìœ¼ë¡œ ì´ë™í•  ë•Œ ìš©ì´í•©ë‹ˆë‹¤.

[chirpy-starter](https://github.com/cotes2020/chirpy-starter)ì„ í™œìš©í•´ 23.01.02 ê¸°ì¤€ ìµœì‹  ë²„ì „ì¸ v5.4.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.

---
## ìœ„ê¸°: ë°°í¬ì˜ ì‹¤íŒ¨

ê·¸ë ‡ê²Œ ìˆœì¡°ë¡­ê²Œ ë¡œì»¬ê³¼ Github ì €ì¥ì†Œì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆì¹œ ë’¤ pushë¥¼ í•˜ê³  ê¸°ë‹¤ë ¸ìŠµë‹ˆë‹¤.

ê·¸ëŸ°ë° ì–´ì°Œëœ ì˜ë¬¸ì¸ì§€ ë¹Œë“œë¶€í„° ì‹¤íŒ¨í•©ë‹ˆë‹¤.

![ì²« ì‹¤íŒ¨](/assets/img/develop/3002/3002_01_first_fail.png)
_[ê·¸ë¦¼01] ì²« ì‹¤íŒ¨_

ë‹¤ì‹œ ë¸”ë¡œê·¸ë¥¼ ìš´ì˜í•˜ê³ ì github actionsì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ë©´ì„œ pushë¥¼ ë°˜ë³µí•˜ê²Œ ë©ë‹ˆë‹¤.

---
## ì ˆì •: Fail, Fail, Fail, ...

### 1. Liquid Exception: Could not locate the included file

ì²˜ìŒ ë§Œë‚œ ì˜¤ë¥˜ëŠ” ```Liquid Exception: Could not locate the included file 'lang.html' ...``` ì˜¤ë¥˜ì…ë‹ˆë‹¤.

mathjaxì˜ ë„ì…ì„ ìœ„í•´ ìƒì„±í•œ lang.htmlì„ ì œê±°í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•œ ì˜¤ë¥˜ì˜€ìŠµë‹ˆë‹¤.

í•´ê²°í•˜ê¸° ìœ„í•´ _layouts/ì—ì„œ lang.html íŒŒì¼ì„ ì˜¬ë°”ë¥´ê²Œ ì‚­ì œí•˜ê³  githubì— push í–ˆìŠµë‹ˆë‹¤.

### 2. HTML-Proofer found XXXXX failures!

2ë²ˆì§¸ ë§Œë‚œ ì˜¤ë¥˜ëŠ” ```HTML-Proofer found XXXXX failures!```ì…ë‹ˆë‹¤.

ì´ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì•„ì˜¤ì§€ ëª»í•´ ë°œìƒí•œ ì˜¤ë¥˜ì˜€ìŠµë‹ˆë‹¤.

_config.yml íŒŒì¼ì—ì„œ base_url í•­ëª©ì„ ìˆ˜ì •í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

### 3. Failed to create deployment (status: 400) with build version XXXXX. Responded with: Invalid deployment branch and no branch protection rules set in the environment. Deployments are only allowed from gh-pages

2ë²ˆì§¸ ì˜¤ë¥˜ë¥¼ ëìœ¼ë¡œ buildëŠ” ì„±ê³µí•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ deployì—ì„œ ë˜ë‹¤ì‹œ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.

3ë²ˆì§¸ ì˜¤ë¥˜ëŠ” ```Error: Failed to create deployment (status: 400) with build version b3f58e0ffc7dfdbeeaffe32dffdd327cf52935a3. Responded with: Invalid deployment branch and no branch protection rules set in the environment. Deployments are only allowed from gh-pages```ì…ë‹ˆë‹¤.

ì´ ì˜¤ë¥˜ëŠ” chirpy í…Œë§ˆì˜ ë²„ì „ì´ ì˜¬ë¼ê°€ë©´ì„œ ì´ì „ê³¼ deploy ë°©ì‹ì´ ë‹¬ë¼ì§„ ê²ƒì´ ì›ì¸ì´ì—ˆìŠµë‹ˆë‹¤.

![chirpy deploy ë³€í™”](/assets/img/develop/3002/3002_02_chirpy_deploy_change.png)
_[ê·¸ë¦¼02] deploy ë°©ì‹ ë³€í™”_

ì´ëŠ” pages ì„¤ì •ì—ì„œ sourceë¥¼ **<u>GitHub Actions</u>**ë¡œ ìˆ˜ì •í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

![github pagesì˜ 2ê°€ì§€ ë°©ì‹](/assets/img/develop/3002/3002_03_github_pages_source.png)
_[ê·¸ë¦¼03] github pagesì˜ 2ê°€ì§€ ë°©ì‹_

2ê°€ì§€ ë°©ì‹ì˜ ì°¨ì´ë¥¼ ì°¾ì•„ë³¸ ê²°ê³¼ë¥¼ ë‹¤ìŒ í‘œë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

|êµ¬ë¶„|Branch|GitHub Actions workflow|
|---|---|---|
|ì œì–´|ì „ì²´ ì»¨í…ì¸ ì™€ ê²Œì‹œ íƒ€ì´ë° ì œì–´ ê°€ëŠ¥|workflowì— ì˜ì¡´ì ì´ë¯€ë¡œ ì •í™•í•œ ê²Œì‹œ íƒ€ì´ë°ì˜ ì œì–´ ì–´ë ¤ì›€|
|ìœ ì—°ì„±|ë¹„êµì  ë–¨ì–´ì§|workflow êµ¬ì„±ì„ í†µí•´ ìœ ì—°ì„± í™•ë³´|
|í˜‘ì—…|branchê°€ ìƒì„±ë˜ë¯€ë¡œ ì§ì ‘ ì ‘ê·¼í•˜ì—¬ merge ë“± ê°€ëŠ¥|workflowì˜ ì™„ë£Œê¹Œì§€ ì ‘ê·¼ ë¶ˆê°€|
|ì‹œì¸ì„±|branchë¥¼ í†µí•´ í™•ì¸|workflowì˜ ì„¸íŒ…ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ì§€ì—° ë°œìƒ|

ì •ë¦¬í•˜ìë©´ branchì˜ ì´ì ì„ ì‚´ë¦¬ëŠ” ë°©ì‹ê³¼ workflowì˜ ìœ ì—°ì„±ì„ ì‚´ë¦¬ëŠ” ë°©ì‹ìœ¼ë¡œ ë‚˜ë‰˜ì—ˆìŠµë‹ˆë‹¤.

Github Actionsì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ [ë‹¤ìŒ ê³µì‹ ë¬¸ì„œ ë§í¬](https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions)ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”!

---
## ê²°ë§: ë°°í¬ ì™„ë£Œ, ì•ˆì •í™”ê°€ ë˜ë‹¤

![ì•ˆì •í™”ëœ github action](/assets/img/develop/3002/3002_04_github_action_result.png)
_[ê·¸ë¦¼04] ì•ˆì •í™”ëœ github action_

3ê°œì˜ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê³ ì„œì•¼ ë°°í¬ê°€ ì•ˆì •í™”ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ë©´ì„œ github actionsì— ëŒ€í•´ ì¡°ê¸ˆì´ë‚˜ë§ˆ ì‚´í´ë³´ê³  ê³µë¶€í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

í˜„ì¬ ê¸€ì€ ê³µë¶€ ê³¼ì •ì—ì„œ ë‚¨ê¸´ ê¸€ë¡œ ì˜¤ë¥˜ê°€ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤! ì¡°ì–¸ê³¼ ëŒ“ê¸€ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤.

ê·¸ëŸ¼ ë‹¤ìŒ ê¸€ì—ì„œ ëµ™ê² ìŠµë‹ˆë‹¤.

ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ˜€

---
## ì°¸ê³  ë¬¸í—Œ
- Understanding GitHub Actions, [https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions](https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions)
- Configuring a publishing source for your GitHub Pages site, [https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site](https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site)
